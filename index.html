<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>SilverStripe Dataobject preview</title><link rel="stylesheet" href="/silverstripe-dataobject-preview/css/main.css"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" sizes="180x180" href="/silverstripe-dataobject-preview/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/silverstripe-dataobject-preview/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/silverstripe-dataobject-preview/favicon-16x16.png"><link rel="manifest" href="/silverstripe-dataobject-preview/manifest.json"><link rel="mask-icon" href="/silverstripe-dataobject-preview/safari-pinned-tab.svg" color="#111111"><meta name="apple-mobile-web-app-title" content="Arillo"><meta name="application-name" content="Arillo"><meta name="theme-color" content="#ffffff"></head><body class="t-blue l-body"><!--[if lte IE 9]>
  <div class="browserWarning">
    <div class="browserWarning_inner">
      <h3>WARNING!</h3>
      <p>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> to experience this site.</p>
    </div>
  </div>
<![endif]--><noscript><div class="browserWarning"><div class="browserWarning_inner"><h3>WARNING!</h3><p>This website needs JavaScript enabled to work correctly. Here you can find <a href="http://www.enable-javascript.com/en/" target="_blank">instructions on how to enable JavaScript in your browser</a>.</p></div></div></noscript><header class="hero l-body_shrink"><div class="hero_bg"><svg xmlns="http://www.w3.org/2000/svg" width="895" height="440.996" viewBox="0 0 895 440.996" class="hero_bgImg"><g fill="none" stroke-linejoin="round"><path d="M714.407 440.996l100.048-57.767.045-19.598M440.5 402.879l-.045 19.648 32.012 18.467M661.528 79.089L440.5 206.659v196.22l221-127.554z"/><path d="M680.456 440.996L814.5 363.631l-153-88.306-221 127.554 66.037 38.113"/><path d="M540.543 440.996L474.5 402.879l187.027-107.947 84.973 49.075-168.044 96.989M491.5 412.689l187-107.957M508.5 422.527l187-107.956M525.5 432.312l187-107.956M544.501 440.996l184.999-106.8M491.5 393.066l82.959 47.932M508.537 383.254l84.955 49.086M525.573 373.443l84.955 49.084M542.61 363.631l67.89 39.225M559.647 353.819l67.853 39.205M576.684 344.007l67.883 39.221M593.721 334.196l67.891 39.226M610.758 324.384l84.955 49.084M627.795 314.572l84.954 49.086M644.831 304.76l67.669 39.098M440.455 383.229l219.978-126.912M457.537 373.422V216.433l187.293-108.1v156.985M508.5 128.148l-68-39.247"/><path stroke-dasharray="6" d="M423.5 79.089l-102-58.871"/><path d="M474 68.931l-17-9.812M372.5 402.824l-17-9.812M542.5 88.901l-17-9.812M542 108.917l-17-9.812M542.5 88.901l-17-9.812M542 108.917l-17-9.812M439.094 441l-15.594-9M491.5 157.583l-34-19.623"/><path stroke-dasharray="6" d="M474 89.185l85-49.06M112 295.119l85-49.06M693 78.188V14.103"/><path d="M576.684 30.136L627.795 0M845 398.01v19.623l17-9.811M355.5 79.089l-17 9.812 17 9.81 17-9.81zM457.537 422.527l16.962 9.811M68 335.565L0 296.318"/><path stroke-dasharray="6" d="M294 383.549l-68-39.247"/><path d="M91 277.769l-17-9.812M140 430.795l-34-19.625M382 264.329l17-9.813-17-9.811M39 373.68l-17 9.81 17 9.813M360 152.75l-17 9.811 17 9.813M228.896 440.996l82.153-47.129 81.149 47.127"/><path stroke-dasharray="6" d="M894.997 238.08l-75.776-44.004L717 253.074l178 102.725M258.497 440.998l-134.276-77.977L22 422.02l32.883 18.976"/><path d="M820.063 65.875l29.754-17.162.097 34.147-29.756 17.162-.095-34.147zm41.352 11.718l-.104-36.875-10.309 5.943-.033-11.843-32.131 18.533.033 11.846-10.32 5.952.107 36.875 10.317-5.952.032 11.685 32.133-18.532-.033-11.684 10.308-5.948zM694.984 172.557l-.133-47.357-11.507 6.635.171 60.409 52.756-30.432-.039-13.047zM761.487 133.8l-.133-47.358-11.507 6.638.171 60.406 52.756-30.431-.039-13.047zM650.071 198.943l-.094-34.149 20.625-11.896-.037-13.21-52.756 30.433.035 13.207 20.638-11.903.096 34.15-20.636 11.9.037 13.049 52.757-30.43-.036-13.049zM595.395 207.083l-29.746 17.157-.029-10.47 29.746-17.157.029 10.47zm1.221 11.16l-.03-10.483 10.317-5.951-.036-13.195-10.318 5.949-.032-11.843-42.44 24.479.172 60.406 11.505-6.639-.064-23.519 29.741-17.154.07 23.515 11.505-6.634-.071-24.883-10.319 5.952zM531.284 243.157l-29.756 17.163-.029-10.469 29.756-17.163.029 10.469zm1.155-12.519l-.033-11.844-32.133 18.534.034 11.846L490 255.121l.137 48.559 11.497-6.631-.068-23.519 29.756-17.163.067 23.518 11.495-6.63-.139-48.56-10.306 5.943zM193 283.644l145.263 83.778L423 318.551l-145.264-83.777z"/><path d="M423 318.552v13.962l-84.737 48.871L193 297.608v-13.964M314.053 353.458l84.737-48.869M362.474 339.496l12.105-6.98M205.105 290.625l84.736-48.87M338.263 367.422v13.963"/></g></svg></div><div class="l-container"><div class="hero_header"><div class="g-row"><div class="g g-4 g-2@md"><div class="hero_brand"><a class="hero_brandLink" href="https://arillo.net"><svg class="hero_brandIcon" width="60" height="30" viewBox="0 0 60 30"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M5.5 30C5.5 16.47 16.47 5.5 30 5.5S54.5 16.47 54.5 30H60C60 13.432 46.568 0 30 0S0 13.432 0 30h5.5"/><path d="M14 30c0-8.836 7.164-16 16-16s16 7.164 16 16h5.5c0-11.874-9.626-21.5-21.5-21.5S8.5 18.126 8.5 30H14z"/><path d="M22.5 30c0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5H43c0-7.18-5.82-13-13-13s-13 5.82-13 13h5.5z"/></g></svg></a></div></div><div class="g g-8 g-4@md g-push-6@md u-ta-rgt"><a class="btn btn-outline-inverse" href="https://github.com/arillo/silverstripe-dataobject-preview"><svg aria-hidden="true" class="i u-pull-top-3 u-push-rgt-half u-pull-lft-third" width="24" height="24" version="1.1" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> <span class="u-d-none u-d-inl@sm">View on </span>GitHub</a></div><div class="g g-6@md g-pull-4@md"></div></div></div><div class="hero_content"><div class="g-row"><div class="g g-8@md g-off-2@md"><h1 class="hero_title">SilverStripe Dataobject preview</h1><div class="hero_text">Shows a preview of your dataobjects like the one you get for pages.</div></div></div></div></div></header><div class="l-section l-body_grow"><div class="l-container"><div class="g-row"><div class="g g-8@md g-off-2@md"><div class="typography"><h1 id="dataobject-preview">Dataobject preview</h1><p><a href="https://packagist.org/packages/arillo/silverstripe-dataobject-preview"><img src="https://poser.pugx.org/arillo/silverstripe-dataobject-preview/v/stable?format=flat" alt="Latest Stable Version"></a><a href="https://packagist.org/packages/arillo/silverstripe-dataobject-preview"><img src="https://poser.pugx.org/arillo/silverstripe-dataobject-preview/downloads?format=flat" alt="Total Downloads"></a></p><p>Shows a preview of your dataobjects like the one you get for pages. Works for GridField and ModelAdmin. Works currently only for Versioned DataObjects.</p><p><em>Pending fix</em>: If you switch to &quot;Edit mode&quot; you will not be able to show the preview again since the button gets removed. Will fix it soon.</p><p>For the preview to work you need to implement the CMSPreviewable interface on your DataObject and declare the methods Link, CMSEditLink and PreviewLink($action = null).</p><p>PreviewLink is the only link we are interested for the preview to work. The DataObjectPreviewController will listen for this links to render your MyDataObject with the MyDataObject.ss template in your theme/templates/* folder.</p><h2 id="example">Example</h2><pre><code><span class="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDataObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DataObject</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">CMSPreviewable</span>
</span>{

    ...

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> $extensions = <span class="hljs-keyword">array</span>(
        <span class="hljs-string">'Versioned("Stage","Live")'</span>
    );

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PreviewLink</span><span class="hljs-params">($action = null)</span></span>{
        <span class="hljs-keyword">return</span> Controller::join_links(Director::baseURL(), <span class="hljs-string">'cms-preview'</span>, <span class="hljs-string">'show'</span>, <span class="hljs-keyword">$this</span>-&gt;ClassName, <span class="hljs-keyword">$this</span>-&gt;ID);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Link</span><span class="hljs-params">()</span> </span>{
        ...
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CMSEditLink</span><span class="hljs-params">()</span></span>{
        ...
    }

}</span>
</code></pre><h2 id="requirements">Requirements</h2><p>SilverStripe 3.1 or higher</p><h2 id="installation">Installation</h2><pre><code><span class="hljs-symbol">composer</span> <span class="hljs-meta">require</span> arillo/silverstripe-dataobject-preview:<span class="hljs-number">1</span>.<span class="hljs-number">0</span>.*
</code></pre><h2 id="usage">Usage</h2><p>You can overwrite the templates by placing them in the templates folder of your theme or in your mysite folder.</p><ul><li>PreviewDataObject.ss -&gt; Container for MyDataObject preview (Like the main Page.ss)</li></ul><p>Tip: If you are using <a href="https://github.com/unclecheese/silverstripe-gridfield-betterbuttons">silverstripe-gridfield-betterbuttons</a> you can disable the dataobject preview links since they are no longer needed. Just add this to your config.yml.</p><pre><code><span class="hljs-attr">BetterButtonsActions:</span>
<span class="hljs-attr">  edit:</span>
<span class="hljs-attr">    BetterButtonFrontendLinksAction:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">  versioned_edit:</span>
<span class="hljs-attr">    BetterButtonFrontendLinksAction:</span> <span class="hljs-literal">false</span>
</code></pre></div></div></div></div></div><div class="l-sectionSmall u-bg-sky u-fs-sm l-body_shrink"><div class="l-container"><div class="g-row"><div class="g g-8@md g-off-2@md">Made by <a class="u-b-btm" href="https://arillo.net">Arillo</a> in Berlin and Bern — Code license: <a class="u-b-btm" href="https://github.com/arillo/silverstripe-dataobject-preview/blob/master/License.md">MIT</a></div></div></div></div><script src="/silverstripe-dataobject-preview/js/main.js"></script></body></html>